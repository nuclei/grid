<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>CSS Grid Web Component</title>
    <script src="./polyfill/webcomponents-lite.js"></script>
    <script type="text/javascript">
      window._nuclei_grid = {
        breakpoints: {
          s: 0,
          m: 600,
          l: 1000
        }
      }
    </script>
    <script src="grid.js"></script>
    <style media="screen">
      :root{
        --grid-breakpoint-xs: 0;
        --grid-breakpoint-s: 600px;
        --grid-breakpoint-m: 800px;
        --grid-breakpoint-l: 1000px;
        --grid-breakpoint-xl: 1200px;
        --grid-breakpoint-xxl: 1400px;
        /*--grid-rows: repeat(3, 200px);*/
        --grid-gutter: 10px;
      }
      @media (max-width: 600px) {
        :root{
          --grid-columns: 3;
          --grid-gutter: 100px;
        }
      }
      .mondrian{
        background: rgb(50,40,30);
        --grid-rows: repeat(8, 75px);
        --grid-columns: 7;
      }
      .responsive-columns{
        padding: 5px;
        margin-top: 10px;
        background: FloralWhite;
        --grid-rows: repeat(6, 100px);
        --grid-columns: 6;
      }
      .responsive-columns div{
        color: white;
        font-family: sans-serif;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 3px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <grid-container class="mondrian" gutter="10px" rowgutter="10px" breakpoints="0s 600m">
      <div style="background: FloralWhite;" column="2 12s" row="1"></div>
      <div style="background: FloralWhite;" column="3" row="1"></div>
      <div style="background: gold;" column="2" row="1"></div>
      <div style="background: FloralWhite;" column="2 1m" row="2"></div>
      <div style="background: Tomato;" column="5 4m" row="4"></div>
      <div style="background: gold;" column="1 2m" row="2"></div>
      <div style="background: FloralWhite;" column="1" row="3"></div>
      <div style="background: FloralWhite;" column="1" row="2"></div>
      <div style="background: FloralWhite;" column="1" row="2"></div>
      <div style="background: FloralWhite;" start-column="4" column="2" row="1"></div>
      <div style="background: FloralWhite;" column="2" row="1"></div>
      <div style="background: gold;" column="1" row="2"></div>
      <div style="background: FloralWhite;" start-row="8" start-column="2" column="2" row="1"></div>
      <div style="background: FloralWhite;" start-column="5 2m" column="2" row="1"></div>
      <div style="background: steelblue;" column="2" row="1 2m"></div>
    </grid-container>
    <grid-container class="responsive-columns" rowgutter="5px" autoflow>
      <div style="background: indigo;" column="2m 3xs">An element on 2 columns</div>
      <div style="background: indigo;" column="2m 3xs">An element on 2 columns</div>
      <div style="background: indigo;" column="2m 3xs">An element on 2 columns</div>
      <div style="background: navy;" column="3m 6xs">An element on 2 columns</div>
      <div style="background: navy;" column="3m 6xs">An element on 2 columns</div>
      <div style="background: navy;" column="3m 6xs">An element on 2 columns</div>
      <div style="background: indigo;" column="2m 3xs">An element on 2 columns</div>
      <div style="background: DarkSlateBlue;" column="1">1 column element</div>
    </grid-container>
    <script type="text/javascript">
    let testing = (tries = 10, iterations = 10) => {
      let testDiv = document.createElement('div')
      document.body.appendChild(testDiv)
      var result = 0
      for (var b = 0; b < tries; b++ ) {
        var wc = []
        var start = window.performance.now()
        for (var i = 0; i < iterations; i++ ) {
          wc[i] = document.createElement('grid-container')
          testDiv.appendChild(wc[i])
        }
        var end = window.performance.now()
        var thisResult = end - start
        result += thisResult
        // for (var i = 0; i < iterations; i++ ) {
        //   wc[i].parentNode.removeChild(wc[i])
        // }
        console.log(`Try ${b+1} with ${iterations} iterations took ${(thisResult/1000).toFixed(2)}s`);
      }
      result = result/tries
      // testDiv.parentNode.removeChild(testDiv);
      console.log(`Avg. of ${tries} tries with ${iterations} iterations took ${(result/1000).toFixed(2)}s (${result}ms)`)
    }
    </script>
  </body>
</html>
