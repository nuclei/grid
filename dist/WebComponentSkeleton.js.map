{"version":3,"file":"WebComponentSkeleton.js","sources":["../src/makeTemplate.ts","../src/WebComponentSkeleton.ts"],"sourcesContent":["export const makeTemplate = function (strings: TemplateStringsArray) {\n  let html = strings[strings.length - 1]\n  let template = document.createElement('template')\n  template.innerHTML = html\n  return template\n}\n","/* global HTMLElement CustomEvent */\n'use strict'\n\nimport { makeTemplate } from './makeTemplate'\ndeclare const ShadyCSS // eslint-disable-line no-unused-vars\n\nlet template = makeTemplate`<style>\n    :host{\n      display: block;\n    }\n    :host([disabled]){\n      color: grey;\n    }\n    .name{\n      padding: 5px 10px;\n      border-radius: 3px;\n      border: 1px solid rgb(210, 210, 210);\n      background-color: rgb(245, 245, 245);\n      box-shadow: 0 1px 3px rgba(0,0,0,.1);\n    }\n    .name:hover{\n      box-shadow: 0 2px 5px rgba(0,0,0,.2);\n    }\n    .name:active{\n      box-shadow: 0 1px 3px rgba(0,0,0,.1);\n      border: 1px solid rgb(180, 180, 180);\n      background-color: rgb(235, 235, 235);\n    }\n  </style>\n  My name is <span id=\"name\" class=\"name\"></span>, I feel <slot></slot>`\n\nclass WebComponentSkeleton extends HTMLElement { // eslint-disable-line no-unused-vars\n  /* Typescript: declare variables */\n  private _name: string = '' // eslint-disable-line no-undef\n  private _disabled: boolean = false // eslint-disable-line no-undef\n\n  constructor () {\n    // If you define a constructor, always call super() first!\n    // This is specific to CE and required by the spec.\n    super()\n    // initiaize variables\n    this.disabled = false\n    // create shadowRoot\n    let shadowRoot = this.attachShadow({mode: 'open'})\n    // check if polyfill is used\n    if (typeof ShadyCSS !== 'undefined') {\n      ShadyCSS.prepareTemplate(template, 'page-sections') // eslint-disable-line no-undef\n      // apply css polyfill\n      ShadyCSS.styleElement(this) // eslint-disable-line no-undef\n    }\n    // add content to shadowRoot\n    shadowRoot.appendChild(document.importNode(template.content, true))\n  }\n  /**\n  * @method observedAttributes\n  * @description return attributes that should be watched for updates\n   */\n  static get observedAttributes () {\n    return ['disabled', 'name']\n  }\n  /**\n  * @method observedAttributes\n  * @description return attributes that should be watched for updates\n   */\n  attributeChangedCallback (attrName: string, oldVal, newVal) {\n    this[attrName] = newVal\n  }\n\n  /**\n  * @method connectedCallback\n  * @description When element is added to DOM\n   */\n  connectedCallback () {\n    this.shadowRoot.querySelector('#name').addEventListener('click', this.onClick.bind(this))\n  }\n  /**\n  * @method _toggleAttribute\n  * @description set or remove an attribute on the WC\n   */\n  private _toggleAttribute (attrName: string, isActive: boolean) {\n    if (isActive === true) {\n      this.setAttribute(attrName, 'true')\n    } else {\n      this.removeAttribute(attrName)\n    }\n  }\n  /**\n  * @method setter name\n  * @description set the name property\n   */\n  set name (name: string) {\n    if (this._name === name) return\n    this._name = name\n\n    this.shadowRoot.querySelector('#name').innerHTML = name\n  }\n  /**\n  * @method getter name\n  * @description get the name property\n   */\n  get name () {\n    return this._name\n  }\n  /**\n  * @method setter disabled\n  * @description set the disabled property\n   */\n  set disabled (disabled: boolean) {\n    if (this._disabled === disabled || typeof (disabled) !== 'boolean') return\n\n    this._disabled = disabled\n    this._toggleAttribute('disabled', disabled)\n  }\n  /**\n  * @method getter disabled\n  * @description get the disabled property\n   */\n  get disabled () {\n    return this._disabled\n  }\n  /**\n  * @method onClick\n  * @description react to click event\n   */\n  onClick (e: object) {\n    this.dispatchEvent(new CustomEvent('name-clicked', {\n      detail: { name: this.shadowRoot.querySelector('#name').innerHTML }, bubbles: false\n    }))\n  }\n}\n\nwindow.customElements.define('web-component-skeleton', WebComponentSkeleton)\n"],"names":[],"mappings":";;;AAAO,MAAM,YAAY,GAAG,UAAU,OAA6B;IACjE,IAAI,IAAI,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAA;IACtC,IAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAA;IACjD,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAA;IACzB,OAAO,QAAQ,CAAA;CAChB,CAAA;;ACCD,IAAI,QAAQ,GAAG,YAAY,CAAA;;;;;;;;;;;;;;;;;;;;;;;wEAuB6C,CAAA;AAExE,0BAA2B,SAAQ,WAAW;IAK5C;QAGE,KAAK,EAAE,CAAA;QAND,UAAK,GAAW,EAAE,CAAA;QAClB,cAAS,GAAY,KAAK,CAAA;QAOhC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAA;QAErB,IAAI,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC,CAAA;QAElD,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE;YACnC,QAAQ,CAAC,eAAe,CAAC,QAAQ,EAAE,eAAe,CAAC,CAAA;YAEnD,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,CAAA;SAC5B;QAED,UAAU,CAAC,WAAW,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAA;KACpE;IAKD,WAAW,kBAAkB;QAC3B,OAAO,CAAC,UAAU,EAAE,MAAM,CAAC,CAAA;KAC5B;IAKD,wBAAwB,CAAE,QAAgB,EAAE,MAAM,EAAE,MAAM;QACxD,IAAI,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAA;KACxB;IAMD,iBAAiB;QACf,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;KAC1F;IAKO,gBAAgB,CAAE,QAAgB,EAAE,QAAiB;QAC3D,IAAI,QAAQ,KAAK,IAAI,EAAE;YACrB,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAA;SACpC;aAAM;YACL,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAA;SAC/B;KACF;IAKD,IAAI,IAAI,CAAE,IAAY;QACpB,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI;YAAE,OAAM;QAC/B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAA;QAEjB,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,SAAS,GAAG,IAAI,CAAA;KACxD;IAKD,IAAI,IAAI;QACN,OAAO,IAAI,CAAC,KAAK,CAAA;KAClB;IAKD,IAAI,QAAQ,CAAE,QAAiB;QAC7B,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ,IAAI,QAAQ,QAAQ,CAAC,KAAK,SAAS;YAAE,OAAM;QAE1E,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAA;QACzB,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAA;KAC5C;IAKD,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,SAAS,CAAA;KACtB;IAKD,OAAO,CAAE,CAAS;QAChB,IAAI,CAAC,aAAa,CAAC,IAAI,WAAW,CAAC,cAAc,EAAE;YACjD,MAAM,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,KAAK;SACnF,CAAC,CAAC,CAAA;KACJ;CACF;AAED,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,wBAAwB,EAAE,oBAAoB,CAAC,CAAA;;"}